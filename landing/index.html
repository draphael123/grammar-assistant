<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LinguistAI - Real-Time Grammar & Spelling Checker</title>
  <meta name="description" content="LinguistAI is a Chrome extension that checks grammar and spelling in real-time as you type. Works on any webpage.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f0f12;
      --surface: #18181c;
      --surface-hover: #222228;
      --text: #f4f4f5;
      --text-muted: #a1a1aa;
      --accent: #6366f1;
      --accent-light: #818cf8;
      --success: #34d399;
      --border: #27272a;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'DM Sans', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }
    .container { max-width: 900px; margin: 0 auto; padding: 0 24px; }
    header {
      padding: 32px 0 48px;
      border-bottom: 1px solid var(--border);
    }
    .logo { display: flex; align-items: center; gap: 12px; margin-bottom: 48px; }
    .logo-icon {
      width: 48px; height: 48px; border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #8b5cf6);
      display: flex; align-items: center; justify-content: center;
      font-size: 24px; font-weight: 700; color: white;
    }
    .logo-text { font-size: 24px; font-weight: 700; }
    h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 16px;
      background: linear-gradient(180deg, #fff, #a1a1aa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle { font-size: 1.25rem; color: var(--text-muted); margin-bottom: 32px; max-width: 560px; }
    .cta {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 14px 28px; background: var(--accent); color: white;
      border-radius: 10px; font-weight: 600; font-size: 16px;
      text-decoration: none; transition: background 0.2s, transform 0.2s;
    }
    .cta:hover { background: var(--accent-light); transform: translateY(-1px); }
    .cta svg { width: 20px; height: 20px; }
    section { padding: 64px 0; }
    h2 { font-size: 1.75rem; margin-bottom: 24px; font-weight: 600; }
    .features { display: grid; gap: 24px; margin-top: 32px; }
    .feature {
      display: flex; gap: 20px; padding: 24px;
      background: var(--surface); border-radius: 12px; border: 1px solid var(--border);
    }
    .feature-icon { font-size: 28px; flex-shrink: 0; }
    .feature h3 { font-size: 1.1rem; margin-bottom: 8px; }
    .feature p { color: var(--text-muted); font-size: 0.95rem; }
    .install-steps {
      background: var(--surface); border-radius: 12px; border: 1px solid var(--border);
      padding: 32px; margin-top: 24px;
    }
    .install-steps ol { padding-left: 24px; }
    .install-steps li { margin-bottom: 16px; }
    .install-steps code {
      font-family: 'JetBrains Mono', monospace;
      background: var(--bg); padding: 2px 8px; border-radius: 6px; font-size: 0.9em;
    }
    .demo-box {
      background: var(--surface); border: 1px solid var(--border);
      border-radius: 12px; padding: 24px; margin-top: 24px;
    }
    .demo-box textarea {
      width: 100%; min-height: 120px; padding: 16px;
      background: var(--bg); border: 1px solid var(--border);
      border-radius: 8px; color: var(--text); font-family: inherit;
      font-size: 15px; resize: vertical;
    }
    .demo-box .demo-editor {
      min-height: 140px; padding: 16px;
      background: var(--bg); border: 1px solid var(--border);
      border-radius: 8px; color: var(--text); font-family: inherit;
      font-size: 15px; line-height: 1.6; outline: none;
    }
    .demo-box .demo-editor:empty::before { content: attr(data-placeholder); color: var(--text-muted); }
    .demo-box .demo-error {
      border-bottom: 2px wavy #ef4444;
      background: rgba(239, 68, 68, 0.1);
      cursor: pointer;
    }
    .demo-box .demo-error:hover { background: rgba(239, 68, 68, 0.2); }
    footer {
      padding: 48px 0; border-top: 1px solid var(--border);
      text-align: center; color: var(--text-muted); font-size: 14px;
    }
    footer a { color: var(--accent-light); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <div class="logo-icon">L</div>
        <span class="logo-text">LinguistAI</span>
      </div>
      <h1>Grammar & spelling, as you type</h1>
      <p class="subtitle">LinguistAI underlines potential errors in real-time. Hover to see suggestions and fix with one click. Works everywhere you write.</p>
      <div style="display: flex; gap: 12px; flex-wrap: wrap;">
        <a href="#demo" class="cta">
          Try it now
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </a>
        <a href="#install" style="display: inline-flex; align-items: center; padding: 14px 24px; border: 1px solid var(--border); border-radius: 10px; color: var(--text); font-weight: 600; text-decoration: none; transition: border-color 0.2s, background 0.2s;" onmouseover="this.style.borderColor='var(--accent)';this.style.background='var(--surface)'" onmouseout="this.style.borderColor='var(--border)';this.style.background='transparent'">Get the extension</a>
      </div>
    </div>
  </header>

  <section id="demo">
    <div class="container">
      <h2>See it in action</h2>
      <div class="demo-box">
        <p style="margin-bottom: 12px; color: var(--text-muted); font-size: 14px;">Type in the box below. Try <strong style="color: var(--text);">teh</strong>, <strong style="color: var(--text);">recieve</strong>, or <strong style="color: var(--text);">definately</strong> ‚Äî hover over red underlines for suggestions.</p>
        <div id="demoEditor" class="demo-editor" contenteditable="true" data-placeholder="Type here... e.g. 'teh quick brown fox' or 'I definately recieved the package'"></div>
      </div>
    </div>
  </section>

  <section id="features">
    <div class="container">
      <h2>Features</h2>
      <div class="features">
        <div class="feature">
          <span class="feature-icon">‚úèÔ∏è</span>
          <div>
            <h3>Real-time checking</h3>
            <p>Monitors textareas and contenteditable elements across any webpage. Underlines potential errors in red as you type.</p>
          </div>
        </div>
        <div class="feature">
          <span class="feature-icon">üí°</span>
          <div>
            <h3>Smart tooltips</h3>
            <p>Hover over underlined text to see the suggested correction, a brief explanation, and an Accept button to apply the fix instantly.</p>
          </div>
        </div>
        <div class="feature">
          <span class="feature-icon">üìä</span>
          <div>
            <h3>Track your progress</h3>
            <p>View your total corrections in the popup. Toggle the extension on or off with a single click.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="install">
    <div class="container">
      <h2>Installation</h2>
      <div class="install-steps">
        <ol>
          <li>Download or clone this project and locate the <code>extension</code> folder.</li>
          <li>Open Chrome and go to <code>chrome://extensions</code>.</li>
          <li>Enable <strong>Developer mode</strong> (toggle in the top-right corner).</li>
          <li>Click <strong>Load unpacked</strong> and select the <code>extension</code> folder.</li>
          <li>LinguistAI will appear in your extensions bar. Click the icon to configure and view stats.</li>
        </ol>
      </div>
    </div>
  </section>

  <script>
    (function() {
      const MOCK_PATTERNS = [
        { pattern: /\bteh\b/gi, suggestion: 'the', explanation: 'Common typo: "teh" should be "the"' },
        { pattern: /\brecieve\b/gi, suggestion: 'receive', explanation: 'Spelling: "i before e except after c"' },
        { pattern: /\boccured\b/gi, suggestion: 'occurred', explanation: 'Double "r" needed in past tense of "occur"' },
        { pattern: /\bdefinately\b/gi, suggestion: 'definitely', explanation: 'Spelling: "definitely" has no "a"' },
        { pattern: /\bseperate\b/gi, suggestion: 'separate', explanation: '"Separate" is spelled with "a" not "e"' },
        { pattern: /\baccomodate\b/gi, suggestion: 'accommodate', explanation: 'Double "m" and double "d" in accommodate' },
      ];
      async function checkGrammar(text) {
        await new Promise(r => setTimeout(r, 300));
        const corrections = [];
        MOCK_PATTERNS.forEach(({ pattern, suggestion, explanation }) => {
          let m;
          const re = new RegExp(pattern.source, 'gi');
          while ((m = re.exec(text)) !== null) {
            corrections.push({ original: m[0], suggestion, explanation, startIndex: m.index, endIndex: m.index + m[0].length });
          }
        });
        return corrections;
      }
      function escapeHtml(t) { const d = document.createElement('div'); d.textContent = t; return d.innerHTML; }
      function getRangeAtOffsets(root, startIdx, endIdx) {
        const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT);
        let current = 0; let startNode = null, startOffset = 0, endNode = null, endOffset = 0, node;
        while ((node = walker.nextNode())) {
          const len = node.textContent.length;
          if (!startNode && current + len > startIdx) { startNode = node; startOffset = startIdx - current; }
          if (!endNode && current + len >= endIdx) { endNode = node; endOffset = endIdx - current; break; }
          current += len;
        }
        return { startNode, startOffset, endNode: endNode || startNode, endOffset: endNode ? endOffset : startOffset };
      }
      function showTooltip(correction, rect, onAccept) {
        const host = document.createElement('div');
        const shadow = host.attachShadow({ mode: 'open' });
        shadow.innerHTML = '<style>.t{position:fixed;z-index:99999;background:#1f2937;color:#f9fafb;padding:12px 16px;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,0.4);font-family:system-ui;font-size:13px;max-width:280px}.s{color:#34d399;font-weight:600;margin:4px 0}.e{color:#9ca3af;font-size:12px;margin-bottom:10px}.b{background:#3b82f6;color:white;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:12px}.b:hover{background:#2563eb}</style><div class="t"><div class="s">‚Üí '+escapeHtml(correction.suggestion)+'</div><div class="e">'+escapeHtml(correction.explanation)+'</div><button class="b">Accept</button></div>';
        const btn = shadow.querySelector('button');
        btn.onclick = () => { onAccept(); host.remove(); };
        let left = rect.left + rect.width/2 - 140, top = rect.top - 8;
        if (top < 10) top = rect.bottom + 8;
        if (left < 10) left = 10;
        if (left > window.innerWidth - 290) left = window.innerWidth - 290;
        shadow.querySelector('.t').style.cssText = 'left:'+left+'px;top:'+top+'px;transform:translateY(-100%)';
        document.body.appendChild(host);
      }
      const editor = document.getElementById('demoEditor');
      let debounce;
      function runCheck() {
        clearTimeout(debounce);
        debounce = setTimeout(async () => {
          const text = editor.innerText || '';
          editor.querySelectorAll('.demo-error').forEach(s => {
            const p = s.parentNode; while (s.firstChild) p.insertBefore(s.firstChild, s); p.replaceChild(document.createTextNode(s.textContent), s);
          });
          if (!text.trim()) return;
          const corrections = await checkGrammar(text);
          corrections.sort((a,b) => b.startIndex - a.startIndex).forEach(c => {
            const { startNode, startOffset, endNode, endOffset } = getRangeAtOffsets(editor, c.startIndex, c.endIndex);
            if (!startNode) return;
            const r = document.createRange(); r.setStart(startNode, startOffset); r.setEnd(endNode, endOffset);
            const span = document.createElement('span'); span.className = 'demo-error';
            try { r.surroundContents(span); } catch(_) {}
            span.onmouseenter = () => showTooltip(c, span.getBoundingClientRect(), () => {
              span.textContent = c.suggestion; span.classList.remove('demo-error'); span.replaceWith(document.createTextNode(c.suggestion));
            });
          });
        }, 400);
      }
      editor.addEventListener('input', runCheck);
      editor.addEventListener('paste', e => { e.preventDefault(); document.execCommand('insertText', false, e.clipboardData.getData('text/plain')); runCheck(); });
    })();
  </script>
  <footer>
    <div class="container">
      <p>LinguistAI uses a mock API by default. Replace <code>api.js</code> with your own LLM integration (OpenAI, Gemini, etc.) for production use.</p>
    </div>
  </footer>
</body>
</html>
